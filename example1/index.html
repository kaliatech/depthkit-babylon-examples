<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <link href="/favicon.ico" rel="icon" />
  <meta content="width=device-width, initial-scale=1.0" name="viewport" />
  <title>Example 1 - DepthKit with Babylon.js</title>
</head>
<body>
<div id="app">
  <header>
    <h1>Example 1 - DepthKit 3D Scene</h1>
    <div>
      <button id="playBtn">PLAY</button>
    </div>
  </header>
  <main class="render-canvas-cont">
    <canvas class="render-canvas" id="renderCanvas"></canvas>
  </main>
</div>
<link href="../style/main.css" rel="stylesheet" type="text/css">
<script lang="typescript" type="module">
  import { Example1 } from "./example1.ts"

  const renderCanvas = document.getElementById('renderCanvas')
  const example1 = new Example1(renderCanvas, window)
  example1.init()
  window.e1 = example1 // for console debugging

  let isPlaying = false

  const btn = document.getElementById('playBtn')

  function togglePlay() {
    if (isPlaying) {
      example1.pause()
      btn.innerText = "PLAY"
    } else {
      example1.play()
      btn.innerText = "PAUSE"
    }
    isPlaying = !isPlaying
  }

  btn.addEventListener('click', () => {
    togglePlay()
  })

  document.addEventListener('keydown', (e) => {
    if (e.target !== btn && e.code === "Space") {
      togglePlay()
    }
  })
</script>
</body>
</html>
